<div class="container reg-container">
  <div class="col-md-6 col-md-offset-3 well">
    <div class="page-header">
      <h1><span class="glyphicon glyphicon-fire"></span> Register</h1>
    </div>
    <!-- FORM -->
    <form name="rc.regForm" ng-submit="rc.regEpamer()">
      <div id="firstName-group" class="form-group">
        <label>First Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="firstName" ng-minlength=3 ng-maxlength=20 required
               ng-model="rc.regData.firstName" ng-change="rc.changeFirstName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="rc.regForm.firstName.$touched && rc.regForm.firstName.$invalid">
          <small class="error" ng-show="rc.regForm.firstName.$error.required">First name is required.</small>
          <small class="error" ng-show="rc.regForm.firstName.$error.minlength">First name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="rc.regForm.firstName.$error.maxlength">First name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="lastName-group" class="form-group">
        <label>Last Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="lastName" ng-minlength=3 ng-maxlength=20 required
               ng-model="rc.regData.lastName" ng-change="rc.changeLastName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="rc.regForm.lastName.$touched && rc.regForm.lastName.$invalid">
          <small class="error" ng-show="rc.regForm.lastName.$error.required">Last name is required.</small>
          <small class="error" ng-show="rc.regForm.lastName.$error.minlength">Last name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="rc.regForm.lastName.$error.maxlength">Last name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="email-group" class="form-group">
        <label>Email<span class="required">&nbsp;*</span></label>
        <input type="email" class="form-control" name="email" ng-model="rc.regData.email" ng-minlength=5 required
               ng-pattern="/^[A-Za-z0-9._%+-]+@epam.com$/" ng-change="rc.changeEmail()"
               ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="rc.regForm.email.$touched && rc.regForm.email.$invalid">
          <small class="error" ng-show="rc.regForm.email.$error.required">Email is required.</small>
          <small class="error" ng-show="rc.regForm.email.$error.minlength">Email is required to be at least 5
            characters
          </small>
          <small class="error" ng-show="!rc.regForm.email.$error.minlength && rc.regForm.email.$error.email">That is
            not a valid email. Please input a valid email.
          </small>
          <small class="error"
                 ng-show="!rc.regForm.email.$error.minlength && !rc.regForm.email.$error.email && rc.regForm.email.$error.pattern">
            That is not a valid email. It must end with @epam.com. Please input a valid email.
          </small>
        </div>
      </div>

      <div id="interested-group" class="form-group">
        <label>Are you going to be there?<span class="required">&nbsp;*</span></label>
        <select class="form-control" required ng-model="rc.regData.status" name="status"
                ng-options="status.id as status.name for status in rc.statuses">
          <option selected disabled>Select an option</option>
        </select>

        <div class="error-group" ng-if="rc.regForm.status.$touched && rc.regForm.status.$invalid">
          <small class="error" ng-show="rc.regForm.status.$error.required">You should choose an option.</small>
        </div>
      </div>
      <div id="guest-group" class="checkbox">
        <label><input type="checkbox" name="bringGuest" ng-model="rc.regData.bringGuest">I'm brining a +1</label>
      </div>
      <div id="guest-name" class="form-group" ng-if="rc.regData.bringGuest">
        <label>Name of Guest<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="guestName" ng-minlength=3 ng-maxlength=20 required
               ng-model="rc.regData.guestName"/>

        <div class="error-group" ng-if="rc.regForm.guestName.$touched && rc.regForm.guestName.$invalid">
          <small class="error" ng-show="rc.regForm.guestName.$error.required">Guest name is required.</small>
          <small class="error" ng-show="rc.regForm.guestName.$error.minlength">Guest name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="rc.regForm.guestName.$error.maxlength">Guest name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="error" class="form-group" ng-if="rc.regError">
        <div class="error-group">
          <small class="error"><span ng-bind="rc.regError"></span></small>
        </div>
      </div>
      <button type="submit" class="btn btn-success btn-lg" ng-disabled="rc.regForm.$invalid || rc.regError">
        <span class="glyphicon glyphicon-flash"></span> Submit!
      </button>
    </form>
  </div>
</div>
