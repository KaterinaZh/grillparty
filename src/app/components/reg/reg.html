<header id="top">
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="col-md-12">
        <div class="navbar-header">
          <img src="/assets/images/logo.png" class="logo">
          <span class="navbar-brand">EPAM Grill Party</span>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <a href="" ng-click="home()">
              <i class="fa fa-home"></i> Home

            </a>
          </li>
          <li class="active">
            <a href="">
              <i class="glyphicon glyphicon-fire"></i> Register </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
<div class="container">
  <div class="col-md-6 col-md-offset-3 well">
    <div class="page-header">
      <h1><span class="glyphicon glyphicon-fire"></span> Register</h1>
    </div>
    <!-- FORM -->
    <form name="regForm" ng-submit="regEpamer()">
      <div id="firstName-group" class="form-group">
        <label>First Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="firstName" ng-minlength=3 ng-maxlength=20 required
               ng-model="regData.firstName" ng-change="changeFirstName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="regForm.firstName.$touched && regForm.firstName.$invalid">
          <small class="error" ng-show="regForm.firstName.$error.required">First name is required.</small>
          <small class="error" ng-show="regForm.firstName.$error.minlength">First name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="regForm.firstName.$error.maxlength">First name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="lastName-group" class="form-group">
        <label>Last Name<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="lastName" ng-minlength=3 ng-maxlength=20 required
               ng-model="regData.lastName" ng-change="changeLastName()" ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="regForm.lastName.$touched && regForm.lastName.$invalid">
          <small class="error" ng-show="regForm.lastName.$error.required">Last name is required.</small>
          <small class="error" ng-show="regForm.lastName.$error.minlength">Last name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="regForm.lastName.$error.maxlength">Last name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="email-group" class="form-group">
        <label>Email<span class="required">&nbsp;*</span></label>
        <input type="email" class="form-control" name="email" ng-model="regData.email" ng-minlength=5 required
               ng-pattern="/^[A-Za-z0-9._%+-]+@epam.com$/" ng-change="changeEmail()"
               ng-model-options="{updateOn: 'blur'}"/>

        <div class="error-group" ng-if="regForm.email.$touched && regForm.email.$invalid">
          <small class="error" ng-show="regForm.email.$error.required">Email is required.</small>
          <small class="error" ng-show="regForm.email.$error.minlength">Email is required to be at least 5
            characters
          </small>
          <small class="error" ng-show="!regForm.email.$error.minlength && regForm.email.$error.email">That is
            not a valid email. Please input a valid email.
          </small>
          <small class="error"
                 ng-show="!regForm.email.$error.minlength && !regForm.email.$error.email && regForm.email.$error.pattern">
            That is not a valid email. It must end with @epam.com. Please input a valid email.
          </small>
        </div>
      </div>

      <div id="interested-group" class="form-group">
        <label>Are you going to be there?<span class="required">&nbsp;*</span></label>
        <select class="form-control" required ng-model="regData.status" name="status"
                ng-options="status.id as status.name for status in statuses">
          <option selected disabled>Select an option</option>
        </select>

        <div class="error-group" ng-if="regForm.status.$touched && regForm.status.$invalid">
          <small class="error" ng-show="regForm.status.$error.required">You should choose an option.</small>
        </div>
      </div>
      <div id="guest-group" class="checkbox">
        <label><input type="checkbox" name="bringGuest" ng-model="regData.bringGuest">I'm brining a +1</label>
      </div>
      <div id="guest-name" class="form-group" ng-if="regData.bringGuest">
        <label>Name of Guest<span class="required">&nbsp;*</span></label>
        <input type="text" class="form-control" name="guestName" ng-minlength=3 ng-maxlength=20 required
               ng-model="regData.guestName"/>

        <div class="error-group" ng-if="regForm.guestName.$touched && regForm.guestName.$invalid">
          <small class="error" ng-show="regForm.guestName.$error.required">Guest name is required.</small>
          <small class="error" ng-show="regForm.guestName.$error.minlength">Guest name is required to be at least 3
            characters
          </small>
          <small class="error" ng-show="regForm.guestName.$error.maxlength">Guest name cannot be longer than 20
            characters
          </small>
        </div>
      </div>
      <div id="error" class="form-group" ng-if="regError">
        <div class="error-group">
          <small class="error"><span ng-bind="regError"></span></small>
        </div>
      </div>
      <button type="submit" class="btn btn-success btn-lg" ng-disabled="regForm.$invalid || regError">
        <span class="glyphicon glyphicon-flash"></span> Submit!
      </button>
    </form>
  </div>
</div>
